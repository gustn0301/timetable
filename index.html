<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ì£¼ê°„ ì‹œê°„í‘œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-start-color: #f0f4f8;
            --bg-end-color: #e6e9f0;
            --main-color: #2c3e50;
            --accent-color: #4299e1;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            color: var(--main-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            transition: background 1s ease;
            background: linear-gradient(to bottom right, var(--bg-start-color), var(--bg-end-color));
            position: relative;
        }

        .container {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            width: 95%;
            max-width: 1400px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                width: 100%;
            }
        }
        
        /* ìƒë‹¨ ì„¹ì…˜ì„ ê°ì‹¸ëŠ” ìƒˆë¡œìš´ div ì¶”ê°€ */
        .top-sections {
            display: flex;
            width: 100%;
        }

        @media (max-width: 768px) {
            .top-sections {
                flex-direction: column;
            }
        }

        /* ì™¼ìª½ ì„¹ì…˜: í˜„ì¬ ì‹œê°„ ë° ìˆ˜ì—… ì •ë³´ (flex: 1ë¡œ ë” ì‘ê²Œ) */
        .left-section {
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: white;
            color: black;
            transition: background 1s ease;
        }

        /* ì˜¤ë¥¸ìª½ ì„¹ì…˜: ì‹œê°„í‘œ (flex: 2ë¡œ ë” ë„“ê²Œ) */
        .right-section {
            flex: 2;
            padding: 20px;
        }

        .left-section h2 {
            font-size: 2em;
            margin-bottom: 10px;
            opacity: 0.8;
        }

        .left-section h1 {
            font-size: 6em;
            font-weight: 700;
            margin: 0;
            letter-spacing: -2px;
        }
        
        #current-date {
            color: #808080;
        }

        #current-time {
            color: #0a1c3d;
        }
        
        .current-class-info {
            margin-top: 30px;
            font-size: 1.3em;
            background-color: rgba(0, 0, 0, 0.05);
            padding: 25px;
            border-radius: 10px;
            width: 100%;
            box-sizing: border-box;
            line-height: 1.6;
        }

        .current-class-info p {
            margin: 5px 0;
        }
        
        #class-name {
            font-size: 1.5em;
            font-weight: bold;
            display: block;
        }
        
        .right-section h2 {
            text-align: center;
            font-size: 2em;
            color: var(--main-color);
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.8em; /* ê¸€ì”¨ í¬ê¸° ì „ì²´ì ìœ¼ë¡œ ì¤„ì„ */
            text-align: center;
            table-layout: fixed;
        }

        th, td {
            border: 1px solid #e0e6ed;
            padding: 6px 3px; /* ì¢Œìš° ì—¬ë°± ì¡°ì • */
            white-space: normal;
            word-break: normal;
        }
        
        td div {
            font-size: 0.75em; /* ê¸€ì”¨ í¬ê¸° ì „ì²´ì ìœ¼ë¡œ ì¤„ì„ */
            color: #555;
            margin-top: 5px;
        }

        th {
            background-color: var(--main-color);
            color: white;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        td.highlight {
            background-color: #f7d794 !important;
            font-weight: bold;
            color: #a05a00;
        }

        .announcement-section {
            margin-top: 30px;
            width: 100%; /* ì „ì²´ í­ì„ ì°¨ì§€í•˜ë„ë¡ ë³€ê²½ */
        }

        .announcement-section h3 {
            margin-bottom: 10px;
            font-size: 1.2em;
            color: var(--main-color);
        }
        
        #announcement-display {
            margin-top: 15px;
            background-color: white; /* ë°°ê²½ìƒ‰ì„ í°ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
            padding: 15px;
            border-radius: 8px;
            white-space: normal;
            word-break: break-all;
            min-height: 50px;
            border: 1px dashed #ccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ìƒë‹¨ ì„¹ì…˜: í˜„ì¬ ì‹œê°„/ì •ë³´(ì™¼ìª½)ì™€ ì‹œê°„í‘œ(ì˜¤ë¥¸ìª½) -->
        <div class="top-sections">
            <!-- ì™¼ìª½ ì„¹ì…˜: í˜„ì¬ ì‹œê°„ ë° ìˆ˜ì—… ì •ë³´ -->
            <div class="left-section">
                <h2 id="current-date"></h2>
                <h1 id="current-time"></h1>
                <div class="current-class-info">
                    <span id="class-name"></span>
                    <p id="teacher-name-p">ì„ ìƒë‹˜: <span id="teacher-name"></span></p>
                    <p id="location-p">ì¥ì†Œ: <span id="location"></span></p>
                </div>
                <p id="special-message" style="margin-top: 20px; font-size: 1.1em; font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.2);"></p>
            </div>
            
            <!-- ì˜¤ë¥¸ìª½ ì„¹ì…˜: ì „ì²´ ì‹œê°„í‘œ -->
            <div class="right-section">
                <h2>ì£¼ê°„ ì‹œê°„í‘œ</h2>
                <div style="overflow-x: auto;">
                    <table id="timetable">
                        <thead>
                            <tr>
                                <th>êµì‹œ</th>
                                <th>ì›”</th>
                                <th>í™”</th>
                                <th>ìˆ˜</th>
                                <th>ëª©</th>
                                <th>ê¸ˆ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- JavaScriptê°€ ì—¬ê¸°ì— ì‹œê°„í‘œ ë‚´ìš©ì„ ìƒì„±í•©ë‹ˆë‹¤ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ê³µì§€ì‚¬í•­ ì„¹ì…˜ (ì•„ë˜ì— ê¸¸ê²Œ ìœ„ì¹˜) -->
        <div class="announcement-section">
            <h3>ğŸ“¢ ê³µì§€ì‚¬í•­</h3>
            <div id="announcement-display"></div>
        </div>
    </div>

    <script>
        // ì´ ë¶€ë¶„ì— ë³¸ì¸ì˜ ì‹œê°„í‘œ ë°ì´í„°ë¥¼ ì…ë ¥í•˜ì„¸ìš”.
        // name: ê³¼ëª© ì´ë¦„, teacher: ì„ ìƒë‹˜ ì´ë¦„, location: ì¥ì†Œ
        const timetableData = {
            'ì›”': [
                { name: 'í†µí•©ê³¼í•™2', teacher: 'ì´í˜„ìš°T', location: '1í•™ë…„ 3ë°˜ êµì‹¤' },
                { name: 'ì¸ê³µì§€ëŠ¥ê¸°ì´ˆ', teacher: 'ê¹€ìš©ìƒT, í•˜ë¯¸ê²½T', location: 'AI ì‹¬í¬ì§€ì›€' },
                { name: 'í†µí•©ì‚¬íšŒ2', teacher: 'ê¹€í˜•ì„T', location: '1í•™ë…„ 7ë°˜ êµì‹¤' },
                { name: 'ê³µê°• ëª¨ì˜ê³ ì‚¬', teacher: 'ì´ì§€ì—°T', location: '1í•™ë…„ 4ë°˜ êµì‹¤' },
                { name: 'ê³µí†µìˆ˜í•™2', teacher: 'ìœ ì§€í˜„T', location: '1í•™ë…„ 5ë°˜ êµì‹¤' },
                { name: 'ê³µí†µêµ­ì–´2', teacher: 'ì´ì •ì›T', location: '1í•™ë…„ 1ë°˜ êµì‹¤' },
                { name: 'ê³µí†µì˜ì–´2', teacher: 'ì´ì§€ì—°T', location: '1í•™ë…„ 4ë°˜ êµì‹¤' }
            ],
            'í™”': [
                { name: 'ì¢…êµ', teacher: 'ê¹€ë™í•´ ì‹ ë¶€ë‹˜', location: 'J301' },
                { name: 'í†µí•©ê³¼í•™2', teacher: 'í™ì†Œì˜T', location: '3í•™ë…„ 6ë°˜ êµì‹¤' },
                { name: 'ìŠ¤í¬ì¸ ê³¼í•™', teacher: 'ì€í˜„ì§„T', location: 'ë§ˆë¦¬ì•„í™€' },
                { name: 'ê³µí†µì˜ì–´2', teacher: 'ê¹€ì˜ë¯¸T', location: '1í•™ë…„ 6ë°˜ êµì‹¤' },
                { name: 'ê³µí†µêµ­ì–´2', teacher: 'ì „ë¯¼ì§€T', location: 'AI ì¸í…”ë¦¬ë©' },
                { name: 'í•œêµ­ì‚¬2', teacher: 'í•œìš°ì§„T', location: 'ì‚¬íšŒêµê³¼ì‹¤' },
                { name: 'ê³µí†µìˆ˜í•™2', teacher: 'ìœ ì§€í˜„T', location: '1í•™ë…„ 5ë°˜ êµì‹¤' }
            ],
            'ìˆ˜': [
                { name: 'ê³µí†µìˆ˜í•™2', teacher: 'ìœ ì§€í˜„T', location: '1í•™ë…„ 5ë°˜ êµì‹¤' },
                { name: 'í†µí•©ê³¼í•™2', teacher: 'ì´í˜„ìš°T', location: '1í•™ë…„ 3ë°˜ êµì‹¤' },
                { name: 'í•œêµ­ì‚¬2', teacher: 'í•œìš°ì§„ T', location: 'ì‚¬íšŒêµê³¼ì‹¤' },
                { name: 'ê³µí†µêµ­ì–´2', teacher: 'ì´ì •ì›T', location: '1í•™ë…„ 1ë°˜ êµì‹¤' },
                { name: 'ê³¼í•™íƒêµ¬ì‹¤í—˜2', teacher: 'ê¹€ë³´ë ¨T', location: '3ì¸µ í™”í•™ì‹¤í—˜ì‹¤' },
                { name: 'ì¸ê³µì§€ëŠ¥ê¸°ì´ˆ', teacher: 'ê¹€ìš©ìƒT, í•˜ë¯¸ê²½T', location: 'AI ì‹¬í¬ì§€ì›€' },
                { name: 'í†µí•©ì‚¬íšŒ2', teacher: 'ê¹€í˜•ì„T', location: '1í•™ë…„ 7ë°˜ êµì‹¤' }
            ],
            'ëª©': [
                { name: 'í†µí•©ê³¼í•™2', teacher: 'ì´ìœ¤ìˆ™T', location: '3ì¸µ ë¬¼ë¦¬í•™ ì‹¤í—˜ì‹¤' },
                { name: 'ì¢…êµ', teacher: 'ê¹€ë™í•´ ì‹ ë¶€ë‹˜', location: 'J301' },
                { name: 'ì§„ë¡œ', teacher: 'í•œìƒë¬´T', location: 'ì§„ë¡œì‹¤' },
                { name: 'í•œêµ­ì‚¬2', teacher: 'ì •ê¸°ì—½T', location: '3í•™ë…„ 3ë°˜ êµì‹¤' },
                { name: 'í†µí•©ì‚¬íšŒ2', teacher: 'ê¹€ê¸°ëª¨T', location: '2í•™ë…„ 7ë°˜ êµì‹¤(3ì¸µ)' },
                { name: 'ê³µí†µì˜ì–´2', teacher: 'ì´ì§€ì—°T', location: '1í•™ë…„ 4ë°˜ êµì‹¤' },
                { name: 'í†µí•©ì‚¬íšŒ2', teacher: 'ì„œì •ì„T', location: '2í•™ë…„ 6ë°˜ êµì‹¤(3ì¸µ)' }
            ],
            'ê¸ˆ': [
                { name: 'ì¸ê³µì§€ëŠ¥ê¸°ì´ˆ', teacher: 'ê¹€ìš©ìƒT, í•˜ë¯¸ê²½T', location: 'AI ì‹¬í¬ì§€ì›€' },
                { name: 'ê³µí†µìˆ˜í•™2', teacher: 'ìœ ì§€í˜„T', location: '1í•™ë…„ 5ë°˜ êµì‹¤' },
                { name: 'ê³µí†µì˜ì–´2', teacher: 'ê¹€ì˜ë¯¸T', location: '1í•™ë…„ 6ë°˜ êµì‹¤' },
                { name: 'ê³µí†µêµ­ì–´2', teacher: 'ì „ë¯¼ì§€T', location: 'AI ì¸í…”ë¦¬ë©' },
                { name: 'ì°½ì²´', teacher: null, location: null },
                { name: 'ì°½ì²´', teacher: null, location: null },
                { name: 'ì°½ì²´', teacher: null, location: null }
            ]
        };

        const morningMessages = [
            'í™œê¸°ì°¬ ì•„ì¹¨, ì˜¤ëŠ˜ë„ í˜ì°¨ê²Œ ì‹œì‘í•´ë´ìš”!',
            'ì¢‹ì€ ìƒê°ê³¼ í•¨ê»˜ ë©‹ì§„ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”.',
            'ì˜¤ëŠ˜ í•˜ë£¨ë„ ê¸ì •ì ì¸ ì—ë„ˆì§€ê°€ ê°€ë“í•˜ê¸¸ ë°”ëë‹ˆë‹¤!',
            'ìƒˆë¡œìš´ ì‹œì‘ì„ ì‘ì›í•©ë‹ˆë‹¤. ì¢‹ì€ ì•„ì¹¨!',
            'ì˜¤ëŠ˜ë„ ìƒˆë¡œìš´ ë°°ì›€ê³¼ ì¦ê±°ì›€ìœ¼ë¡œ ì±„ì›Œë‚˜ê°€ì„¸ìš”.'
        ];
        
        // êµì‹œë³„ ì‹œì‘ ë° ì¢…ë£Œ ì‹œê°„ ì„¤ì •
        const classTimes = [
            { start: '06:30', end: '07:49', name: 'ì•„ì¹¨ ì‹œê°„', special: true, type: 'morning_message' },
            { start: '07:50', end: '08:29', name: 'ì•„ì¹¨ í™œë™', special: true, type: 'morning_activity_message' },
            { start: '08:30', end: '08:39', name: 'ì‰¬ëŠ” ì‹œê°„', special: true, message: '1êµì‹œ ìˆ˜ì—…ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '08:40', end: '09:29', name: '1êµì‹œ', special: false, period: 1 },
            { start: '09:30', end: '09:39', name: 'ì‰¬ëŠ” ì‹œê°„', special: true, message: '2êµì‹œ ìˆ˜ì—…ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '09:40', end: '10:29', name: '2êµì‹œ', special: false, period: 2 },
            { start: '10:30', end: '10:39', name: 'ì‰¬ëŠ” ì‹œê°„', special: true, message: '3êµì‹œ ìˆ˜ì—…ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '10:40', end: '11:29', name: '3êµì‹œ', special: false, period: 3 },
            { start: '11:30', end: '11:39', name: 'ì‰¬ëŠ” ì‹œê°„', special: true, message: '4êµì‹œ ìˆ˜ì—…ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '11:40', end: '12:29', name: '4êµì‹œ', special: false, period: 4 },
            { start: '12:30', end: '13:09', name: 'ì ì‹¬ì‹œê°„', special: true, message: 'ë§›ìˆëŠ” ì ì‹¬, í–‰ë³µí•œ ì‹œê°„ ë³´ë‚´ì„¸ìš”!' },
            { start: '13:10', end: '13:29', name: '5êµì‹œ ì¤€ë¹„', special: true, message: '5êµì‹œ ìˆ˜ì—…ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '13:30', end: '14:19', name: '5êµì‹œ', special: false, period: 5 },
            { start: '14:20', end: '14:29', name: 'ì‰¬ëŠ” ì‹œê°„', special: true, message: '6êµì‹œ ìˆ˜ì—…ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '14:30', end: '15:19', name: '6êµì‹œ', special: false, period: 6 },
            { start: '15:20', end: '15:39', name: 'ì²­ì†Œì‹œê°„', special: true, message: '7êµì‹œ ìˆ˜ì—…ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '15:40', end: '16:29', name: '7êµì‹œ', special: false, period: 7 },
            { start: '16:30', end: '16:39', name: 'ììŠµ(ë°©ê³¼í›„) ì¤€ë¹„', special: true, message: 'ììŠµ(ë°©ê³¼í›„) ì¤€ë¹„ ì‹œê°„ì…ë‹ˆë‹¤.' },
            { start: '16:40', end: '17:29', name: 'ììŠµ(ë°©ê³¼í›„)', special: true, message: 'ììœ¨ì ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ì‹œê°„ì…ë‹ˆë‹¤.' },
            { start: '17:30', end: '18:44', name: 'ì €ë…ì‹œê°„', special: true, message: 'ì˜¤ëŠ˜ í•˜ë£¨ë„ ìˆ˜ê³  ë§ì•˜ì–´ìš”. ë“ ë“ í•˜ê²Œ ì €ë… ë¨¹ê³  í˜ë‚´ì„¸ìš”!' },
            { start: '18:45', end: '18:59', name: 'ììŠµ ì¤€ë¹„', special: true, message: 'ììŠµì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '19:00', end: '20:19', name: 'ììŠµì‹œê°„', special: true, message: 'ìê¸°ì£¼ë„ í•™ìŠµ ì‹œê°„ì…ë‹ˆë‹¤.' },
            { start: '20:20', end: '20:39', name: 'ì‰¬ëŠ” ì‹œê°„', special: true, message: 'ì ì‹œ ì‰¬ë©´ì„œ ë‹¤ìŒ ììŠµ ì‹œê°„ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '20:40', end: '21:49', name: 'ììŠµì‹œê°„', special: true, message: 'ìê¸°ì£¼ë„ í•™ìŠµ ì‹œê°„ì…ë‹ˆë‹¤.' },
            { start: '21:50', end: '21:59', name: 'ì‰¬ëŠ” ì‹œê°„', special: true, message: 'ì ì‹œ ì‰¬ë©´ì„œ ë‹¤ìŒ ììŠµ ì‹œê°„ì„ ì¤€ë¹„í•˜ì„¸ìš”.' },
            { start: '22:00', end: '22:59', name: 'ììŠµì‹œê°„', special: true, message: 'ìê¸°ì£¼ë„ í•™ìŠµ ì‹œê°„ì…ë‹ˆë‹¤.' },
            { start: '23:00', end: '24:00', name: 'ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.', special: true, message: 'ì˜¤ëŠ˜ í•˜ë£¨ ì •ë§ ìˆ˜ê³  ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤. í¸ì•ˆí•œ ë°¤ ë˜ì„¸ìš”!' }
        ];

        // ì´ ë¶€ë¶„ì— ê³µì§€ì‚¬í•­ ë‚´ìš©ì„ ì§ì ‘ ì…ë ¥í•˜ê³ , ì—¬ëŸ¬ ì¤„ë¡œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        const announcementText = `9/12(ê¸ˆ)
ìê° - ìœ ì§€í˜„T
ë§ˆíƒ€ìˆ˜í•™(ì§‘í•©) í’€ê¸° - ì´ë²ˆì£¼ í† ìš”ì¼ ê¹Œì§€
ìˆ˜í•™ ì‹¬í™”íƒêµ¬ ë°œí‘œ PPT ì œì¶œ - ì´ë²ˆì£¼ ì¼ìš”ì¼ ê¹Œì§€
ì¸ê³µê¸° ìˆ˜í–‰ì€ ë‚˜ë„ ëª¨ë¦„ ã…‹
        
2í•™ê¸° ì¤‘ê°„ê³ ì‚¬ D-12 

í”¼ë“œë°±ì€ yhs1302asdf@pess.cnehs.krë¡œ êµ¬ê¸€ì±—
`;

        // êµì‹œ ë²ˆí˜¸ì— ë§ëŠ” ì‹œê°„ ë²”ìœ„ë¥¼ ì°¾ì•„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
        function getClassTimeRange(period) {
            const timeInfo = classTimes.find(t => !t.special && t.period === period);
            if (timeInfo) {
                // ëë‚˜ëŠ” ì‹œê°„ì— 1ë¶„ì„ ë”í•´ì„œ í‘œì‹œí•˜ë„ë¡ ìˆ˜ì •í•©ë‹ˆë‹¤.
                const [endHour, endMinute] = timeInfo.end.split(':').map(Number);
                let newEndHour = endHour;
                let newEndMinute = endMinute + 1;

                if (newEndMinute === 60) {
                    newEndMinute = 0;
                    newEndHour = newEndHour + 1;
                }

                const formattedEndHour = String(newEndHour).padStart(2, '0');
                const formattedEndMinute = String(newEndMinute).padStart(2, '0');
                
                return `${timeInfo.start}~${formattedEndHour}:${formattedEndMinute}`;
            }
            return '';
        }

        // í˜„ì¬ ì‹œê°„, ë‚ ì§œ ë° í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ìˆ˜ì—… ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
        function updateTimeAndClass() {
            const now = new Date();
            const dayOfWeek = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '][now.getDay()];
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const currentDate = `${now.getFullYear()}ë…„ ${now.getMonth() + 1}ì›” ${now.getDate()}ì¼ (${dayOfWeek})`;
            const currentTime = `${hours}:${minutes}:${seconds}`;

            document.getElementById('current-date').textContent = currentDate;
            document.getElementById('current-time').textContent = currentTime;

            const teacherNameP = document.getElementById('teacher-name-p');
            const locationP = document.getElementById('location-p');
            const specialMessageEl = document.getElementById('special-message');
            const classNameEl = document.getElementById('class-name');

            let currentClass = 'ìˆ˜ì—… ì—†ìŒ';
            let currentTeacher = '';
            let currentLocation = '';
            let currentMessage = '';
            let currentClassIndex = -1;
            let currentClassTimeRange = '';

            if (dayOfWeek !== 'í† ' && dayOfWeek !== 'ì¼') {
                for (let i = 0; i < classTimes.length; i++) {
                    const classTime = classTimes[i];
                    const [startHours, startMinutes] = classTime.start.split(':').map(Number);
                    const [endHours, endMinutes] = classTime.end.split(':').map(Number);
                    const nowHours = now.getHours();
                    const nowMinutes = now.getMinutes();
                    const nowInMinutes = nowHours * 60 + nowMinutes;
                    const startInMinutes = startHours * 60 + startMinutes;
                    const endInMinutes = endHours * 60 + endMinutes;

                    if (nowInMinutes >= startInMinutes && nowInMinutes < endInMinutes) {
                        
                        // íŠ¹ë³„ í™œë™ ì‹œê°„ ì²˜ë¦¬
                        if (classTime.special) {
                            currentClass = classTime.name;
                            currentTeacher = '';
                            currentLocation = '';
                            if (classTime.type === 'morning_message') {
                                const today = new Date();
                                const dayIndex = today.getDay();
                                const randomMessageIndex = (dayIndex % morningMessages.length);
                                currentMessage = morningMessages[randomMessageIndex];
                            } else if (classTime.type === 'morning_activity_message') {
                                if (dayOfWeek === 'ì›”' || dayOfWeek === 'ìˆ˜' || dayOfWeek === 'ê¸ˆ') {
                                    currentMessage = 'ë‹¬ë¦¬ê¸° ë° ì¤„ë„˜ê¸° ì‹œê°„ì…ë‹ˆë‹¤.';
                                } else if (dayOfWeek === 'í™”' || dayOfWeek === 'ëª©') {
                                    currentMessage = 'ì˜ì–´ ë“£ê¸° í‰ê°€ ì‹œê°„ì…ë‹ˆë‹¤.';
                                }
                            } else {
                                currentMessage = classTime.message;
                            }
                        } else {
                            // ì¼ë°˜ ìˆ˜ì—… ì‹œê°„
                            const classInfo = timetableData[dayOfWeek] && timetableData[dayOfWeek][classTime.period - 1];
                            if (classInfo) {
                                currentClass = classInfo.name;
                                currentTeacher = classInfo.teacher;
                                currentLocation = classInfo.location;
                            }
                            currentClassIndex = classTime.period;
                            currentClassTimeRange = getClassTimeRange(currentClassIndex);
                        }
                        break;
                    }
                }
            } else {
                currentClass = 'ì˜¤ëŠ˜ì€ ì£¼ë§ì…ë‹ˆë‹¤';
                currentMessage = 'ì£¼ë§ì€ í‰ì¼ê³¼ ë‹¤ë¥¸ ì‹œê°„í‘œë¡œ ìš´ì˜ë©ë‹ˆë‹¤.';
            }

            classNameEl.textContent = currentClass;
            specialMessageEl.textContent = (currentClassTimeRange ? `(${currentClassTimeRange}) ` : '') + currentMessage;

            // í˜„ì¬ ìˆ˜ì—… ì •ë³´ì— ë”°ë¼ ì„ ìƒë‹˜/ì¥ì†Œ ì •ë³´ í‘œì‹œ/ìˆ¨ê¹€
            if (currentTeacher || currentLocation) {
                document.getElementById('teacher-name').textContent = currentTeacher;
                document.getElementById('location').textContent = currentLocation;
                teacherNameP.style.display = 'block';
                locationP.style.display = 'block';
            } else {
                teacherNameP.style.display = 'none';
                locationP.style.display = 'none';
            }

            // í˜„ì¬ êµì‹œ ê°•ì¡° í‘œì‹œ
            const cells = document.querySelectorAll('#timetable td');
            cells.forEach(cell => cell.classList.remove('highlight'));
            if (currentClassIndex !== -1) {
                const colIndex = now.getDay() + 1;
                const cellToHighlight = document.querySelector(`#timetable tr:nth-child(${currentClassIndex}) td:nth-child(${colIndex})`);
                if (cellToHighlight) {
                    cellToHighlight.classList.add('highlight');
                }
            }
        }

        // ì „ì²´ ì‹œê°„í‘œë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
        function generateTimetable() {
            const tableBody = document.querySelector('#timetable tbody');
            const days = ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ'];
            
            for (let i = 0; i < 7; i++) {
                const row = document.createElement('tr');
                const periodCell = document.createElement('td');
                periodCell.innerHTML = `<strong>${i + 1}êµì‹œ</strong>`;
                row.appendChild(periodCell);

                days.forEach(day => {
                    const classInfo = timetableData[day] && timetableData[day][i];
                    const cell = document.createElement('td');
                    if (classInfo) {
                        const className = classInfo.name;
                        const teacherName = classInfo.teacher;
                        const location = classInfo.location;
                        cell.innerHTML = `<strong>${className}</strong><div>${teacherName || ''}</div><div>${location || ''}</div>`;
                    } else {
                        cell.textContent = 'ì •ë³´ ì—†ìŒ';
                    }
                    row.appendChild(cell);
                });
                tableBody.appendChild(row);
            }
        }
        
        // ì‹œê°„ëŒ€ë³„ ë°°ê²½ ìƒ‰ìƒ ì„¤ì •
        function setTimeBasedBackground() {
            const now = new Date();
            const hour = now.getHours();
            const root = document.documentElement;

            if (hour >= 6 && hour < 12) {
                root.style.setProperty('--bg-start-color', '#fffde4');
                root.style.setProperty('--bg-end-color', '#c6ffdd');
            } else if (hour >= 12 && hour < 18) {
                root.style.setProperty('--bg-start-color', '#f7d794');
                root.style.setProperty('--bg-end-color', '#f8a5c2');
            } else {
                root.style.setProperty('--bg-start-color', '#091e3a');
                root.style.setProperty('--bg-end-color', '#2f5a89');
            }
        }

        // í˜ì´ì§€ê°€ ë¡œë“œë˜ë©´ ì‹¤í–‰
        window.onload = function () {
            generateTimetable();
            setTimeBasedBackground();
            updateTimeAndClass();
            
            // ì½”ë“œ ë‚´ë¶€ì˜ ê³µì§€ì‚¬í•­ ë³€ìˆ˜ë¥¼ í™”ë©´ì— í‘œì‹œ
            document.getElementById('announcement-display').innerText = announcementText;
            
            setInterval(() => {
                updateTimeAndClass();
            }, 1000);   
        };
    </script>
</body>
</html>
